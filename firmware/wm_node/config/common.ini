[common_env_data]
; Common build flags for all nodes (no duplicates)
build_flags =
  -D WM_SSID=\"${secrets.WM_SSID}\"
  -D WM_PASS=\"${secrets.WM_PASS}\"
  -D WM_BROKER_HOST=\"192.168.50.69\"
  -D WM_BROKER_PORT=1884
  -D WM_HOUSE_ID=\"houseA\"
  ; Pins (keep consistent across nodes)
  -D I2S_BCLK=26
  -D I2S_LRCL=25
  -D I2S_DOUT=22
  -D I2C_SDA=32
  -D I2C_SCL=33
  -D PIR_PIN=27
  -D NEOPIXEL_PIN=5
  -D NEOPIXEL_COUNT=8

lib_deps =
  adafruit/Adafruit NeoPixel @ ^1.12.3
  claws/BH1750 @ ^1.3.0
  knolleary/PubSubClient @ ^2.8

; Base env: serial upload
[env:base-usb]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600
build_flags = ${common_env_data.build_flags}
lib_deps = ${common_env_data.lib_deps}

; Base env: OTA upload
[env:base-ota]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_protocol = espota
build_flags = ${common_env_data.build_flags}
lib_deps = ${common_env_data.lib_deps}
